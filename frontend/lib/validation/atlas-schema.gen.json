{"$defs": {"AggregationFunction": {"enum": ["SUM", "AVG", "COUNT", "MIN", "MAX"], "title": "AggregationFunction", "type": "string"}, "AtlasDashboardFile": {"properties": {"id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "default": null, "title": "Id"}, "name": {"title": "Name", "type": "string"}, "path": {"title": "Path", "type": "string"}, "type": {"const": "dashboard", "title": "Type", "type": "string"}, "content": {"$ref": "#/$defs/DashboardContent"}, "references": {"anyOf": [{"items": {"type": "integer"}, "type": "array"}, {"type": "null"}], "default": null, "title": "References"}}, "required": ["name", "path", "type", "content"], "title": "AtlasDashboardFile", "type": "object"}, "AtlasQuestionFile": {"properties": {"id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "default": null, "title": "Id"}, "name": {"title": "Name", "type": "string"}, "path": {"title": "Path", "type": "string"}, "type": {"const": "question", "title": "Type", "type": "string"}, "content": {"$ref": "#/$defs/QuestionContent"}, "references": {"anyOf": [{"items": {"type": "integer"}, "type": "array"}, {"type": "null"}], "default": null, "title": "References"}}, "required": ["name", "path", "type", "content"], "title": "AtlasQuestionFile", "type": "object"}, "ColumnFormatConfig": {"description": "Per-column display formatting. Only set when the user explicitly asks to change formatting.", "properties": {"alias": {"anyOf": [{"type": "string"}, {"type": "null"}], "default": null, "description": "display name override for the column header", "title": "Alias"}, "decimalPoints": {"anyOf": [{"type": "integer"}, {"type": "null"}], "default": null, "description": "number of decimal places (0-4) for numeric columns", "title": "Decimalpoints"}, "dateFormat": {"anyOf": [{"type": "string"}, {"type": "null"}], "default": null, "description": "date display format: 'iso', 'us', 'eu', 'short', 'month-year', or 'year'", "title": "Dateformat"}}, "title": "ColumnFormatConfig", "type": "object"}, "DashboardContent": {"properties": {"description": {"anyOf": [{"type": "string"}, {"type": "null"}], "default": null, "title": "Description"}, "assets": {"description": "ordered list of questions in the dashboard", "items": {"discriminator": {"mapping": {"divider": "#/$defs/InlineAsset", "image": "#/$defs/InlineAsset", "question": "#/$defs/FileAssetRef", "text": "#/$defs/InlineAsset"}, "propertyName": "type"}, "oneOf": [{"$ref": "#/$defs/FileAssetRef"}, {"$ref": "#/$defs/InlineAsset"}]}, "title": "Assets", "type": "array"}, "layout": {"anyOf": [{"$ref": "#/$defs/DashboardLayout"}, {"type": "null"}], "default": null}, "parameterValues": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "default": null, "title": "Parametervalues"}}, "required": ["assets"], "title": "DashboardContent", "type": "object"}, "DashboardLayout": {"properties": {"columns": {"anyOf": [{"type": "integer"}, {"type": "null"}], "default": 12, "title": "Columns"}, "items": {"anyOf": [{"items": {"$ref": "#/$defs/DashboardLayoutItem"}, "type": "array"}, {"type": "null"}], "default": null, "title": "Items"}}, "title": "DashboardLayout", "type": "object"}, "DashboardLayoutItem": {"properties": {"id": {"title": "Id", "type": "integer"}, "x": {"title": "X", "type": "integer"}, "y": {"title": "Y", "type": "integer"}, "w": {"description": "width in grid units (min 3)", "minimum": 3, "title": "W", "type": "integer"}, "h": {"description": "height in grid units (min 3)", "minimum": 3, "title": "H", "type": "integer"}}, "required": ["id", "x", "y", "w", "h"], "title": "DashboardLayoutItem", "type": "object"}, "FileAssetRef": {"description": "A reference to another question embedded in the dashboard.", "properties": {"type": {"const": "question", "title": "Type", "type": "string"}, "id": {"title": "Id", "type": "integer"}}, "required": ["type", "id"], "title": "FileReference", "type": "object"}, "FormulaOperator": {"enum": ["+", "-", "*", "/"], "title": "FormulaOperator", "type": "string"}, "InlineAsset": {"description": "Inline content block (text, image, divider) \u2014 no external file.", "properties": {"type": {"enum": ["text", "image", "divider"], "title": "Type", "type": "string"}, "id": {"anyOf": [{"type": "string"}, {"type": "null"}], "default": null, "title": "Id"}, "content": {"anyOf": [{"type": "string"}, {"type": "null"}], "default": null, "title": "Content"}}, "required": ["type"], "title": "InlineAsset", "type": "object"}, "ParameterType": {"enum": ["text", "number", "date"], "title": "ParameterType", "type": "string"}, "PivotConfig": {"description": "Configuration for pivot table visualization.", "properties": {"rows": {"description": "dimension columns for row headers", "items": {"type": "string"}, "title": "Rows", "type": "array"}, "columns": {"description": "dimension columns for column headers", "items": {"type": "string"}, "title": "Columns", "type": "array"}, "values": {"description": "measures with per-value aggregation functions", "items": {"$ref": "#/$defs/PivotValueConfig"}, "title": "Values", "type": "array"}, "showRowTotals": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "default": null, "description": "show row totals column", "title": "Showrowtotals"}, "showColumnTotals": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "default": null, "description": "show column totals row", "title": "Showcolumntotals"}, "showHeatmap": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "default": null, "description": "show heatmap conditional formatting", "title": "Showheatmap"}, "rowFormulas": {"anyOf": [{"items": {"$ref": "#/$defs/PivotFormula"}, "type": "array"}, {"type": "null"}], "default": null, "description": "formulas combining top-level row dimension values", "title": "Rowformulas"}, "columnFormulas": {"anyOf": [{"items": {"$ref": "#/$defs/PivotFormula"}, "type": "array"}, {"type": "null"}], "default": null, "description": "formulas combining top-level column dimension values", "title": "Columnformulas"}}, "required": ["rows", "columns", "values"], "title": "PivotConfig", "type": "object"}, "PivotFormula": {"description": "A derived row/column computed from two top-level dimension values.", "properties": {"name": {"description": "display label, e.g. 'YoY Change'", "title": "Name", "type": "string"}, "operandA": {"description": "top-level dimension value, e.g. '2024'", "title": "Operanda", "type": "string"}, "operandB": {"description": "top-level dimension value, e.g. '2023'", "title": "Operandb", "type": "string"}, "operator": {"$ref": "#/$defs/FormulaOperator", "description": "arithmetic operator: +, -, *, /"}}, "required": ["name", "operandA", "operandB", "operator"], "title": "PivotFormula", "type": "object"}, "PivotValueConfig": {"description": "A measure column with its aggregation function.", "properties": {"column": {"description": "column name for the measure", "title": "Column", "type": "string"}, "aggFunction": {"$ref": "#/$defs/AggregationFunction", "default": "SUM", "description": "aggregation function to apply (SUM, AVG, COUNT, MIN, MAX)"}}, "required": ["column"], "title": "PivotValueConfig", "type": "object"}, "QuestionContent": {"properties": {"description": {"anyOf": [{"type": "string"}, {"type": "null"}], "default": null, "title": "Description"}, "query": {"description": "SQL query string, may contain :paramName tokens", "title": "Query", "type": "string"}, "vizSettings": {"$ref": "#/$defs/VisualizationSettings"}, "parameters": {"anyOf": [{"items": {"$ref": "#/$defs/QuestionParameter"}, "type": "array"}, {"type": "null"}], "default": null, "title": "Parameters"}, "database_name": {"description": "connection name (empty string if none)", "title": "Database Name", "type": "string"}, "references": {"anyOf": [{"items": {"$ref": "#/$defs/QuestionReference"}, "type": "array"}, {"type": "null"}], "default": null, "title": "References"}}, "required": ["query", "vizSettings", "database_name"], "title": "QuestionContent", "type": "object"}, "QuestionParameter": {"properties": {"name": {"title": "Name", "type": "string"}, "type": {"$ref": "#/$defs/ParameterType"}, "label": {"anyOf": [{"type": "string"}, {"type": "null"}], "default": null, "title": "Label"}, "value": {"anyOf": [{"type": "string"}, {"type": "number"}, {"type": "null"}], "default": null, "title": "Value"}}, "required": ["name", "type"], "title": "QuestionParameter", "type": "object"}, "QuestionReference": {"description": "Composed question reference \u2014 lets this query use @alias as a CTE.", "properties": {"id": {"title": "Id", "type": "integer"}, "alias": {"title": "Alias", "type": "string"}}, "required": ["id", "alias"], "title": "QuestionReference", "type": "object"}, "VisualizationSettings": {"description": "visualization settings", "properties": {"type": {"$ref": "#/$defs/VisualizationType", "description": "type of the visualization (default is table)"}, "xCols": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "default": [], "description": "list of column names in the x axis (for non-pivot chart types)", "title": "Xcols"}, "yCols": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "default": [], "description": "list of column names in the y axis (for non-pivot chart types)", "title": "Ycols"}, "pivotConfig": {"anyOf": [{"$ref": "#/$defs/PivotConfig"}, {"type": "null"}], "default": null, "description": "pivot table configuration (only used when type is 'pivot')"}, "columnFormats": {"anyOf": [{"additionalProperties": {"$ref": "#/$defs/ColumnFormatConfig"}, "type": "object"}, {"type": "null"}], "default": null, "description": "per-column display formatting keyed by column name. Only set when user asks to rename columns, change decimal places, or change date format. Good defaults are applied automatically.", "title": "Columnformats"}}, "required": ["type"], "title": "VizSettings", "type": "object"}, "VisualizationType": {"enum": ["table", "bar", "line", "scatter", "area", "funnel", "pie", "pivot", "trend"], "title": "VisualizationType", "type": "string"}}, "discriminator": {"mapping": {"dashboard": "#/$defs/AtlasDashboardFile", "question": "#/$defs/AtlasQuestionFile"}, "propertyName": "type"}, "oneOf": [{"$ref": "#/$defs/AtlasQuestionFile"}, {"$ref": "#/$defs/AtlasDashboardFile"}]}
